---
import { pathList } from '../../constants/path_list';
import { FAVICON_URL } from '../../constants/site_data';
import { retrieveTranslation } from '../locales/i18n';
import { GTM_URL } from '../tracking/gtm_data';

interface Props {
  canonicalUrl: string;
}

const { canonicalUrl } = Astro.props;

const webSiteTitle = retrieveTranslation('website.title');
---

<link rel="canonical" href={canonicalUrl} />
<link rel="apple-touch-icon" href={FAVICON_URL} />
<link rel="icon" type="image/png" href={FAVICON_URL} />
<link rel="alternate" type="application/atom+xml" href={pathList.feed} title={webSiteTitle} />
<link rel="preload" as="style" href="/assets/styles/color_scheme.css" />
<link rel="preload" as="script" href={GTM_URL} />
<link rel="stylesheet" href="/assets/styles/foundation.css" />
<link rel="stylesheet" href="/assets/styles/variables.css" />
<link rel="stylesheet" href="/assets/styles/main.css" />
<script src={GTM_URL} defer></script>
<script is:inline>
  if (window.localStorage.getItem('ga:optoutId') === null) {
    window.dataLayer = [];
    window.dataLayer.push({
      'gtm.start': Date.now(),
      event: 'gtm.js',
    });
  }
</script>
